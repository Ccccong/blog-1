# 网站流量日志数据自定义采集

### 原理分析

首先，用户的行为会触发浏览器对被统计页面的一个HTTP请求。比如，让用户打开
一个页面时，触发页面中的埋点代码的执行。

```sequence
participant 浏览器
participant HTTP服务器
participant 数据采集服务器

浏览器->HTTP服务器:访问web服务页面，触发埋点代码
HTTP-->>数据采集服务器:异步请求采集服务器
数据采集服务器-->>浏览器:数据采集脚本
浏览器-->数据采集服务器:伪装图片请求，发送采集到的数据
数据采集服务器-->浏览器:返回伪装的响应，设置cookie，标识浏览器
```

**埋点**：事先在网页中加入的一小段js代码，这个代码片段一般会动态创建一个
script标签，并将src属性指向一个单独的js文件，然后这个js文件
































